 <% if !current_user %>
  <%= link_to "Sign In", new_user_session_path %>
  <%= link_to "Sign Up", new_user_registration_path %>
<% end %>


    <% group_membership = check_if_member(@group)[0]%>
    <% member = check_if_member(@group)[1]%>
    <% if group_membership %>
   
<div class="flex flex-col">
<div class="flex">
  <div class="m-8">
    <div class="min-w-screen flex pt-1 justify-center font-sans overflow-hidden">
      <div class="block rounded-lg shadow-lg bg-white px-6 py-8 md:px-12 h-full mb-5 ">
        <h2 class="">Add New Post</h2>
      <%= form_with model: @post, url: user_group_posts_path(current_user.id, @group), method: :post,  local: true, scope: :post  do |form| %>
          <div class="relative ">
            <%= form.label :title, class: "leading-7 text-sm text-gray-400" %>
            <%= form.text_field :title, autofocus: true,class: "form-control block w-full px-3 py-1.5 mb-4 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none" %>
          </div>
          <div class="relative ">
            <%= form.label :body, class: "leading-7 text-sm text-gray-400" %>
            <%= form.text_area :body, autofocus: true,class: "form-control block w-full px-3 py-1.5 mb-4 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none" %>
          </div>
          <div class="actions flex justify-between">
            <%= form.submit "Post", class: " px-6 py-2.5 mb-6 w-1/3 bg-blue-600 text-white font-medium text-xs leading-tight uppercase rounded shadow-md hover:bg-blue-700 hover:shadow-lg focus:bg-blue-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-blue-800 active:shadow-lg transition duration-150 ease-in-out" %>
          </div>
        <% end %>
      </div>
    </div>
    <% if flash[:notice] %>
      <div class="alert-pos" id="notice"><%= flash[:notice] %></div>
    <% end %>
  </div>


  <div class="ml-12">
    <h1> Members </h1>
    <div>
      <% @group.members.each do |member| %>
        <div class="flex flex-row justify-start" data-controller="member">
          <%= render(MemberComponent.new(member: member, group: @group, current_user: current_user)) %> 
      </div>
      <% end %>
    </div>
  </div>
</div>


  <div class="ml-12">
    <h1>  All Posts</h1>

    <% @posts.each do |post| %>
     
      <div class="flex flex-row justify-start" data-controller="post">
        <%= render(PostComponent.new(title: post.title, body: post.body, post: post, group: @group, current_user: current_user)) %>
      </div>
    <% end %>
  </div>

</div>

   
  <% else %>
       <h1>You are not member of this group</h1>
<% end %>


